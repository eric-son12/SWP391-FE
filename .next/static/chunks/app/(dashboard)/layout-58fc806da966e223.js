(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[305],{5148:(e,t,a)=>{"use strict";a.d(t,{Sidebar:()=>z});var s=a(5155),l=a(2115),n=a(6874),i=a.n(n),o=a(5695),r=a(3052),d=a(2355),c=a(9434),u=a(4093),m=a(3783),f=a(7580),h=a(576),x=a(3562),b=a(3761),p=a(142),g=a(4498),v=a(9343),j=a(7434),y=a(1497),k=a(3861),N=a(1106),A=a(9676),w=a(3109),C=function(e){return e.ADMIN="ROLE_ADMIN",e.STAFF="ROLE_STAFF",e.CUSTOMER="ROLE_CUSTOMER",e.CHILD="ROLE_CHILD",e}({});let L={ROLE_CHILD:[],ROLE_CUSTOMER:[],ROLE_STAFF:[{label:"Dashboard",icon:m.A,key:"dashboard",path:"/dashboard"},{label:"Patients",icon:f.A,key:"patients",subItems:[{label:"Parents",icon:f.A,key:C.CUSTOMER},{label:"Children",icon:h.A,key:"children"}]},{label:"Bookings",icon:x.A,key:"bookings",path:"/bookings"},{label:"Product Management",icon:b.A,key:"product-management",subItems:[{label:"Add Product",icon:b.A,key:"add-product"},{label:"List Products",icon:p.A,key:"list-products"}]},{label:"Category Management",icon:g.A,key:"category-management",subItems:[{label:"Create Category",icon:v.A,key:"create-category"},{label:"List Categories",icon:p.A,key:"list-categories"}]},{label:"Post Management",icon:j.A,key:"post-management",subItems:[{label:"Add Post",icon:v.A,key:"add-post"},{label:"List Posts",icon:p.A,key:"list-posts"}]},{label:"Feedback",icon:y.A,key:"feedback",path:"/feedback"},{label:"Notifications",icon:k.A,key:"notifications",path:"/notifications"}],ROLE_ADMIN:[{label:"Dashboard",icon:m.A,key:"dashboard",path:"/dashboard"},{label:"Management",icon:N.A,key:"management",subItems:[{label:"Users",icon:f.A,key:"users-management"},{label:"Staff",icon:N.A,key:"staff-management"},{label:"Roles & Permissions",icon:N.A,key:"roles-management"}]},{label:"Vaccines",icon:b.A,key:"vaccines",path:"/vaccines"},{label:"Feedback",icon:y.A,key:"feedback",path:"/feedback"},{label:"Reports",icon:j.A,key:"reports",subItems:[{label:"Daily Orders",icon:A.A,key:"daily-orders"},{label:"Top Vaccine",icon:b.A,key:"top-vaccine"},{label:"Revenue",icon:w.A,key:"revenue"},{label:"Vaccinated Age",icon:h.A,key:"vaccinated-age"}]},{label:"Notifications",icon:k.A,key:"notifications",path:"/notifications"}]};var _=a(285),E=a(3921);function O(e){let{delayDuration:t=0,...a}=e;return(0,s.jsx)(E.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...a})}function R(e){let{...t}=e;return(0,s.jsx)(O,{children:(0,s.jsx)(E.bL,{"data-slot":"tooltip",...t})})}function S(e){let{...t}=e;return(0,s.jsx)(E.l9,{"data-slot":"tooltip-trigger",...t})}function I(e){let{className:t,sideOffset:a=0,children:l,...n}=e;return(0,s.jsx)(E.ZL,{children:(0,s.jsxs)(E.UC,{"data-slot":"tooltip-content",sideOffset:a,className:(0,c.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit rounded-md px-3 py-1.5 text-xs text-balance",t),...n,children:[l,(0,s.jsx)(E.i3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}var P=a(6766);function z(){let e=(0,o.usePathname)(),t=(0,o.useRouter)(),a=u.P.getState().profile,n=a?a.user:void 0,[m,f]=(0,l.useState)(""),[h,x]=(0,l.useState)(!1);if((0,l.useEffect)(()=>{if(n&&"ROLE_CUSTOMER"!==n.role&&"ROLE_CHILD"!==n.role){let e=L[n.role]||[];e.length>0?f(e[0].key):f("")}else t.push("/")},[n,t]),!n)return null;let[b,p]=(0,l.useState)({});(0,l.useEffect)(()=>{h&&p({})},[h]);let g=e=>{p(t=>({...t,[e]:!t[e]}))},v=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=e===t.path;if(t.subItems&&t.subItems.length>0){var n;return(0,s.jsxs)("div",{className:"relative w-full",children:[(0,s.jsxs)(_.$,{variant:"ghost",className:(0,c.cn)("flex w-full items-center justify-start gap-2 p-2 hover:bg-blue-50",a>0&&"pl-8",h&&"justify-center"),onClick:()=>g(t.key),children:[(0,s.jsx)(t.icon,{className:"h-5! w-5! text-black"}),!h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"flex-1 text-left",children:t.label}),(0,s.jsx)(r.A,{className:(0,c.cn)("h-4 w-4 transition-transform",b[t.key]&&"rotate-90")})]})]}),b[t.key]&&(0,s.jsx)("div",{className:(0,c.cn)("space-y-1 pl-2",h&&"absolute left-full top-0 z-50 ml-2 w-48 rounded-md border bg-white p-2 shadow-md"),children:null===(n=t.subItems)||void 0===n?void 0:n.map(e=>v(e,a+1))})]},t.key)}let o=(0,s.jsxs)("div",{className:(0,c.cn)("flex w-full items-center gap-2 rounded-md p-2",l?"bg-blue-100 text-blue-700":"hover:bg-blue-50 hover:text-blue-600",a>0&&"pl-8",h&&"justify-center"),children:[(0,s.jsx)(t.icon,{className:"h-5! w-5! text-black"}),!h&&(0,s.jsx)("span",{children:t.label})]});return t.onClick?(0,s.jsx)(_.$,{variant:"ghost",className:"w-full p-0",onClick:t.onClick,children:h?(0,s.jsx)(O,{children:(0,s.jsxs)(R,{children:[(0,s.jsx)(S,{asChild:!0,children:o}),(0,s.jsx)(I,{side:"right",children:t.label})]})}):o},t.key):(0,s.jsx)(i(),{href:t.path||"#",className:"block w-full",children:h?(0,s.jsx)(O,{children:(0,s.jsxs)(R,{children:[(0,s.jsx)(S,{asChild:!0,children:o}),(0,s.jsx)(I,{side:"right",children:t.label})]})}):o},t.key)},j=L[n.role]||[];return(0,s.jsxs)("div",{className:(0,c.cn)("flex h-screen flex-col border-r bg-white transition-all duration-300",h?"w-16":"w-64"),children:[(0,s.jsxs)("div",{className:"flex h-16 items-center justify-between border-b px-4",children:[!h&&(0,s.jsx)("div",{className:"text-xl font-bold text-blue-600",children:(0,s.jsx)(P.default,{src:"/images/logo.webp",alt:"VNVC logo",width:240,height:48})}),(0,s.jsx)(_.$,{variant:"ghost",size:"icon",onClick:()=>{x(e=>!e)},className:(0,c.cn)("ml-auto"),children:h?(0,s.jsx)(r.A,{className:"h-5 w-5"}):(0,s.jsx)(d.A,{className:"h-5 w-5"})})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto p-2",children:(0,s.jsx)("nav",{className:"space-y-1",children:j.map(e=>v(e))})})]})}},7250:(e,t,a)=>{Promise.resolve().then(a.bind(a,7589)),Promise.resolve().then(a.bind(a,5148))},7589:(e,t,a)=>{"use strict";a.d(t,{Header:()=>N});var s=a(5155),l=a(5695),n=a(6474),i=a(1007),o=a(381),r=a(4835),d=a(4093),c=a(285);a(2115);var u=a(141),m=a(9434);function f(e){let{...t}=e;return(0,s.jsx)(u.bL,{"data-slot":"dropdown-menu",...t})}function h(e){let{...t}=e;return(0,s.jsx)(u.l9,{"data-slot":"dropdown-menu-trigger",...t})}function x(e){let{className:t,sideOffset:a=4,...l}=e;return(0,s.jsx)(u.ZL,{children:(0,s.jsx)(u.UC,{"data-slot":"dropdown-menu-content",sideOffset:a,className:(0,m.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...l})})}function b(e){let{className:t,inset:a,variant:l="default",...n}=e;return(0,s.jsx)(u.q7,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":l,className:(0,m.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function p(e){let{className:t,inset:a,...l}=e;return(0,s.jsx)(u.JU,{"data-slot":"dropdown-menu-label","data-inset":a,className:(0,m.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...l})}function g(e){let{className:t,...a}=e;return(0,s.jsx)(u.wv,{"data-slot":"dropdown-menu-separator",className:(0,m.cn)("bg-border -mx-1 my-1 h-px",t),...a})}var v=a(5977);function j(e){let{className:t,...a}=e;return(0,s.jsx)(v.bL,{"data-slot":"avatar",className:(0,m.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...a})}function y(e){let{className:t,...a}=e;return(0,s.jsx)(v._V,{"data-slot":"avatar-image",className:(0,m.cn)("aspect-square size-full",t),...a})}function k(e){let{className:t,...a}=e;return(0,s.jsx)(v.H4,{"data-slot":"avatar-fallback",className:(0,m.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...a})}function N(){(0,l.useRouter)();let{user:e}=d.P.getState().profile,t=d.P.getState().logout;return(0,s.jsx)("header",{className:"flex h-16 items-center justify-end border-b bg-white px-6",children:(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsxs)(f,{children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsxs)(c.$,{variant:"ghost",className:"flex items-center gap-2 hover:bg-gray-100",children:[(0,s.jsxs)(j,{className:"h-8 w-8",children:[(0,s.jsx)(y,{src:"/images/placeholder-user.webp",alt:"User"}),(0,s.jsx)(k,{children:"AD"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-start text-sm",children:[(0,s.jsx)("span",{className:"font-medium",children:null==e?void 0:e.fullName}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:(null==e?void 0:e.email)||""})]}),(0,s.jsx)(n.A,{className:"h-4 w-4"})]})}),(0,s.jsxs)(x,{align:"end",className:"w-56",children:[(0,s.jsx)(p,{children:"My Account"}),(0,s.jsx)(g,{}),(0,s.jsxs)(b,{children:[(0,s.jsx)(i.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Profile"})]}),(0,s.jsxs)(b,{children:[(0,s.jsx)(o.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Settings"})]}),(0,s.jsx)(g,{}),(0,s.jsxs)(b,{onClick:t,children:[(0,s.jsx)(r.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Log out"})]})]})]})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[836,405,105,441,684,358],()=>t(7250)),_N_E=e.O()}]);