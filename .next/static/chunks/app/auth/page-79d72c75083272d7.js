(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{4351:(e,t,s)=>{Promise.resolve().then(s.bind(s,6972))},6972:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>D});var a=s(5155),r=s(2115),n=s(5695),i=s(2177),o=s(285),l=s(9434);function d(e){let{className:t,type:s,...r}=e;return(0,a.jsx)("input",{type:s,"data-slot":"input",className:(0,l.cn)("border-input file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var c=s(968);function u(e){let{className:t,...s}=e;return(0,a.jsx)(c.b,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}function m(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,l.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function p(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,l.cn)("flex flex-col gap-1.5 px-6",t),...s})}function x(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,l.cn)("leading-none font-semibold",t),...s})}function f(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,l.cn)("text-muted-foreground text-sm",t),...s})}function g(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,l.cn)("px-6",t),...s})}function h(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,l.cn)("flex items-center px-6",t),...s})}let S={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},T=0,b=new Map,v=e=>{if(b.has(e))return;let t=setTimeout(()=>{b.delete(e),N({type:S.REMOVE_TOAST,toastId:e})},1e6);b.set(e,t)},j=(e,t)=>{switch(t.type){case S.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case S.UPDATE_TOAST:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case S.DISMISS_TOAST:{let{toastId:s}=t;return s?v(s):e.toasts.forEach(e=>{v(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case S.REMOVE_TOAST:if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};default:return e}},A=[],y={toasts:[]};function N(e){y=j(y,e),A.forEach(e=>{e(y)})}function O(e){let{...t}=e,s=(T=(T+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>N({type:S.DISMISS_TOAST,toastId:s});return N({type:S.ADD_TOAST,toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>N({type:S.UPDATE_TOAST,toast:{...e,id:s}})}}var _=s(4093),w=s(8749),E=s(2657);let D=()=>{let e=(0,_.P)(e=>e.login),t=(0,n.useRouter)(),{toast:s}=function(){let[e,t]=r.useState(y);return r.useEffect(()=>(A.push(t),()=>{let e=A.indexOf(t);e>-1&&A.splice(e,1)}),[]),{...e,toast:O,dismiss:e=>N({type:S.DISMISS_TOAST,toastId:e})}}(),[l,c]=(0,r.useState)(!1),[T,b]=(0,r.useState)(!1),{register:v,handleSubmit:j,formState:{errors:D}}=(0,i.mN)(),I=async a=>{try{await e(a.username,a.password),s({title:"Login Successful",description:"Welcome back!"}),t.push("/dashboard")}catch(e){console.error("Login failed",e),s({title:"Login Failed",description:"Please check your credentials and try again",variant:"destructive"})}};return(0,a.jsx)("div",{className:"flex h-screen w-screen flex-col items-center justify-center",children:(0,a.jsxs)(m,{className:"w-full md:w-[500px] mx-3 md:mx-0",children:[(0,a.jsxs)(p,{className:"space-y-1",children:[(0,a.jsx)(x,{className:"text-2xl",children:"Login"}),(0,a.jsx)(f,{children:"Enter your credentials to access your account"})]}),(0,a.jsxs)("form",{onSubmit:j(I),children:[(0,a.jsxs)(g,{className:"grid gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(u,{htmlFor:"username",children:"Username"}),(0,a.jsx)(d,{id:"username",type:"username",...v("username")}),D.username&&(0,a.jsx)("span",{className:"text-red-500 text-sm",children:D.username.message})]}),(0,a.jsxs)("div",{className:"grid gap-2 relative",children:[(0,a.jsx)(u,{htmlFor:"password",children:"Password"}),(0,a.jsx)(d,{id:"password",type:T?"text":"password",...v("password")}),(0,a.jsx)("span",{className:"absolute top-8 right-3 cursor-pointer text-gray-500",onClick:()=>b(!T),children:T?(0,a.jsx)(w.A,{}):(0,a.jsx)(E.A,{})}),D.password&&(0,a.jsx)("span",{className:"text-red-500 text-sm",children:D.password.message})]})]}),(0,a.jsx)(h,{className:"mt-6 flex flex-col space-y-4",children:(0,a.jsx)(o.$,{type:"submit",className:"w-full",children:"Login"})})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[836,12,105,441,684,358],()=>t(4351)),_N_E=e.O()}]);